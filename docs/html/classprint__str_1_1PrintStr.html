<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AceUtils: print_str::PrintStr&lt; SIZE &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AceUtils
   &#160;<span id="projectnumber">0.2</span>
   </div>
   <div id="projectbrief">Useful Arduino utilties which are too small for separate libraries.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>print_str</b></li><li class="navelem"><a class="el" href="classprint__str_1_1PrintStr.html">PrintStr</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="classprint__str_1_1PrintStr-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">print_str::PrintStr&lt; SIZE &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>An implementation of <code>Print</code> that writes to an in-memory buffer supporting strings less than 65535 in length.  
 <a href="classprint__str_1_1PrintStr.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="print__str_2PrintStr_8h_source.html">PrintStr.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for print_str::PrintStr&lt; SIZE &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classprint__str_1_1PrintStr__inherit__graph.png" border="0" usemap="#print__str_1_1PrintStr_3_01SIZE_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="print__str_1_1PrintStr_3_01SIZE_01_4_inherit__map" id="print__str_1_1PrintStr_3_01SIZE_01_4_inherit__map">
<area shape="rect" title="An implementation of Print that writes to an in&#45;memory buffer supporting strings less than 65535 in l..." alt="" coords="21,155,153,196"/>
<area shape="rect" href="classprint__str_1_1PrintStrBase.html" title="Base class for all template instances of the PrintStr&lt;SIZE&gt; class." alt="" coords="5,80,169,107"/>
<area shape="rect" title=" " alt="" coords="61,5,113,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for print_str::PrintStr&lt; SIZE &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classprint__str_1_1PrintStr__coll__graph.png" border="0" usemap="#print__str_1_1PrintStr_3_01SIZE_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="print__str_1_1PrintStr_3_01SIZE_01_4_coll__map" id="print__str_1_1PrintStr_3_01SIZE_01_4_coll__map">
<area shape="rect" title="An implementation of Print that writes to an in&#45;memory buffer supporting strings less than 65535 in l..." alt="" coords="21,155,153,196"/>
<area shape="rect" href="classprint__str_1_1PrintStrBase.html" title="Base class for all template instances of the PrintStr&lt;SIZE&gt; class." alt="" coords="5,80,169,107"/>
<area shape="rect" title=" " alt="" coords="61,5,113,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_methods_classprint__str_1_1PrintStrBase"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classprint__str_1_1PrintStrBase')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classprint__str_1_1PrintStrBase.html">print_str::PrintStrBase</a></td></tr>
<tr class="memitem:acda11934f584a4dfad2898fb51106c55 inherit pub_methods_classprint__str_1_1PrintStrBase"><td class="memItemLeft" align="right" valign="top"><a id="acda11934f584a4dfad2898fb51106c55"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>write</b> (uint8_t c) override</td></tr>
<tr class="separator:acda11934f584a4dfad2898fb51106c55 inherit pub_methods_classprint__str_1_1PrintStrBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eedee14d1afc1a849f063900798df86 inherit pub_methods_classprint__str_1_1PrintStrBase"><td class="memItemLeft" align="right" valign="top"><a id="a1eedee14d1afc1a849f063900798df86"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>write</b> (const uint8_t *buf, size_t size) override</td></tr>
<tr class="separator:a1eedee14d1afc1a849f063900798df86 inherit pub_methods_classprint__str_1_1PrintStrBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b8cb2765abbd291e0d9d5d155ac7806 inherit pub_methods_classprint__str_1_1PrintStrBase"><td class="memItemLeft" align="right" valign="top"><a id="a4b8cb2765abbd291e0d9d5d155ac7806"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>flush</b> () override</td></tr>
<tr class="separator:a4b8cb2765abbd291e0d9d5d155ac7806 inherit pub_methods_classprint__str_1_1PrintStrBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a936c38da7e21faa0cf0bbd17b626f111 inherit pub_methods_classprint__str_1_1PrintStrBase"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprint__str_1_1PrintStrBase.html#a936c38da7e21faa0cf0bbd17b626f111">getCstr</a> () const</td></tr>
<tr class="memdesc:a936c38da7e21faa0cf0bbd17b626f111 inherit pub_methods_classprint__str_1_1PrintStrBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the NUL terminated c-string buffer.  <a href="classprint__str_1_1PrintStrBase.html#a936c38da7e21faa0cf0bbd17b626f111">More...</a><br /></td></tr>
<tr class="separator:a936c38da7e21faa0cf0bbd17b626f111 inherit pub_methods_classprint__str_1_1PrintStrBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0911bc15a5fcd42c3e65f59bdddec11a inherit pub_methods_classprint__str_1_1PrintStrBase"><td class="memItemLeft" align="right" valign="top"><a id="a0911bc15a5fcd42c3e65f59bdddec11a"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprint__str_1_1PrintStrBase.html#a0911bc15a5fcd42c3e65f59bdddec11a">length</a> () const</td></tr>
<tr class="memdesc:a0911bc15a5fcd42c3e65f59bdddec11a inherit pub_methods_classprint__str_1_1PrintStrBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the length of the internal c-string buffer. <br /></td></tr>
<tr class="separator:a0911bc15a5fcd42c3e65f59bdddec11a inherit pub_methods_classprint__str_1_1PrintStrBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classprint__str_1_1PrintStrBase"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classprint__str_1_1PrintStrBase')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classprint__str_1_1PrintStrBase.html">print_str::PrintStrBase</a></td></tr>
<tr class="memitem:a7c3e6f556cd7bb59037cb345913a6a67 inherit pro_methods_classprint__str_1_1PrintStrBase"><td class="memItemLeft" align="right" valign="top"><a id="a7c3e6f556cd7bb59037cb345913a6a67"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>PrintStrBase</b> (uint16_t size, char *buf)</td></tr>
<tr class="separator:a7c3e6f556cd7bb59037cb345913a6a67 inherit pro_methods_classprint__str_1_1PrintStrBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classprint__str_1_1PrintStrBase"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classprint__str_1_1PrintStrBase')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classprint__str_1_1PrintStrBase.html">print_str::PrintStrBase</a></td></tr>
<tr class="memitem:aa92f3c298a80b83cd97bdc9d4e652aa1 inherit pro_attribs_classprint__str_1_1PrintStrBase"><td class="memItemLeft" align="right" valign="top">char *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprint__str_1_1PrintStrBase.html#aa92f3c298a80b83cd97bdc9d4e652aa1">buf_</a></td></tr>
<tr class="memdesc:aa92f3c298a80b83cd97bdc9d4e652aa1 inherit pro_attribs_classprint__str_1_1PrintStrBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the pointer to the character array buffer.  <a href="classprint__str_1_1PrintStrBase.html#aa92f3c298a80b83cd97bdc9d4e652aa1">More...</a><br /></td></tr>
<tr class="separator:aa92f3c298a80b83cd97bdc9d4e652aa1 inherit pro_attribs_classprint__str_1_1PrintStrBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;uint16_t SIZE&gt;<br />
class print_str::PrintStr&lt; SIZE &gt;</h3>

<p>An implementation of <code>Print</code> that writes to an in-memory buffer supporting strings less than 65535 in length. </p>
<p>It is intended to be an alternative to the <code>String</code> class to help avoid heap fragmentation due to repeated creation and deletion of small String objects. The '<a class="el" href="classprint__str_1_1PrintStr.html" title="An implementation of Print that writes to an in-memory buffer supporting strings less than 65535 in l...">PrintStr</a>' object inherit the methods from the 'Print' interface which can be used to build an internal string representation of various objects. Instead of using the <code>operator+=()</code> or the <code>concat()</code> method, use the <code>print()</code>, <code>println()</code> (or sometimes the <code>printf()</code> method) of the <code>Print</code> class. After the internal string is built, the NUL-terminated c-string representation can be retrieved using <code><a class="el" href="classprint__str_1_1PrintStrBase.html#a936c38da7e21faa0cf0bbd17b626f111" title="Return the NUL terminated c-string buffer.">getCstr()</a></code>.</p>
<p>This object is expected to be created on the stack instead of the heap to avoid heap fragmentation. The <code>SIZE</code> parameter is a compile time constant, to allow the internal string buffer to be created on the stack. The object will be destroyed automatically when the stack is unwound after returning from the function where this is used.</p>
<p>An instance of <code><a class="el" href="classprint__str_1_1PrintStr.html" title="An implementation of Print that writes to an in-memory buffer supporting strings less than 65535 in l...">PrintStr</a></code> can be reused by calling the <code>flush()</code> method which causes the internal buffer to be cleared to an empty string. An instance of this object could be created statically and reused across different calling sites, but this was not the main intended use of this class.</p>
<p>Warning: The contents of <code><a class="el" href="classprint__str_1_1PrintStrBase.html#a936c38da7e21faa0cf0bbd17b626f111" title="Return the NUL terminated c-string buffer.">getCstr()</a></code> are valid only as long as the <a class="el" href="classprint__str_1_1PrintStr.html" title="An implementation of Print that writes to an in-memory buffer supporting strings less than 65535 in l...">PrintStr</a> object is alive. The pointer should never be passed to another part of the program if the <a class="el" href="classprint__str_1_1PrintStr.html" title="An implementation of Print that writes to an in-memory buffer supporting strings less than 65535 in l...">PrintStr</a> object is destroyed before the pointer is used.</p>
<p>Usage:</p>
<pre class="fragment">* #include &lt;PrintStr.h&gt;
*
* using namespace print_str;
*
* void fillStringA(PrintStr&amp; message) {
*   message.print("hello, ");
*   message.println("world!");
* }
*
* void fillStringB(PrintStr&amp; message) {
*   message.print("There are ");
*   message.print(42);
*   message.println(" apples");
* }
*
* void someFunction() {
*   PrintStr&lt;32&gt; message;
*   fillStringA(message)
*   const char* cstr = message.getCstr();
*   // do stuff with cstr
*
*   message.flush();
*   fillStringB(message);
*   cstr = message.getCstr();
*   // do more stuff with cstr
* }
* </pre><dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">SIZE</td><td>size of internal string buffer including the NUL terminator character, the maximum is 65535, which means the maximum string length is 65534 characters. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="print__str_2PrintStr_8h_source.html#l00219">219</a> of file <a class="el" href="print__str_2PrintStr_8h_source.html">PrintStr.h</a>.</p>
</div><hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/brian/src/AceUtils/src/print_str/<a class="el" href="print__str_2PrintStr_8h_source.html">PrintStr.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
